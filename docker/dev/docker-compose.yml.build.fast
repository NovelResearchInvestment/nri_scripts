version: '3.9'

services:

  centos-dev:
    build:
      context: './centos-dev'
      dockerfile: Dockerfile
    container_name: centos-dev
    tty: true
    working_dir: '/root'
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - centos-dev
    links:
      - influxdb
      - postgres
      - services
      - jupyterhub

  influxdb:
    image: centos-dev
    container_name: influxdb
    working_dir: /root
    tty: true
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - centos-dev

  postgres:
    build:
      context: './postgres'
      dockerfile: Dockerfile
    container_name: postgres
    working_dir: /root
    tty: true
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - centos-dev

  services:
    build:
      context: './services'
      dockerfile: Dockerfile
    container_name: services
    working_dir: /root
    tty: true
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - centos-dev

  ubuntu-dev:
    build:
      context: './ubuntu-dev'
      dockerfile: Dockerfile
    container_name: ubuntu-dev
    working_dir: /root
    tty: true
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - ubuntu-dev
    links:
      - influxdb
      - postgres
      - services
      - jupyterhub

  jupyterhub:
    build:
      context: './jupyterhub'
      dockerfile: Dockerfile
    container_name: jupyterhub
    working_dir: /root
    tty: true
    extra_hosts:
      - "raw.githubusercontent.com:199.232.28.133"
    command: ["/bin/zsh"]
    depends_on:
      - ubuntu-dev

